# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã EVE SSO (–û—à–∏–±–∫–∞ 400)

## üö® –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ 400 —Å URL:

```
https://login.eveonline.com/v2/oauth/authorize?response_type=code&redirect_uri=https://eve-profitmaster.onrender.com/callback&client_id=fb702fa78148403c9542f98190ec84da&scope=...&state=...
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –û–±–Ω–æ–≤–∏—Ç–µ EVE –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ https://developers.eveonline.com/

**Callback URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:**

```
https://eve-profitmaster.onrender.com/callback
```

**Scopes –¥–æ–ª–∂–Ω—ã –≤–∫–ª—é—á–∞—Ç—å:**

- `publicData`
- `esi-calendar.respond_calendar_events.v1`
- `esi-skills.read_skills.v1`
- `esi-wallet.read_character_wallet.v1`
- `esi-assets.read_assets.v1`
- `esi-planets.manage_planets.v1`
- `esi-markets.structure_markets.v1`
- `esi-industry.read_character_jobs.v1`
- `esi-markets.read_character_orders.v1`
- `esi-characters.read_blueprints.v1`

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ –≤–∞—à–µ–º `.env` —Ñ–∞–π–ª–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:

```env
EVE_CLIENT_ID=fb702fa78148403c9542f98190ec84da
EVE_SECRET_KEY=–≤–∞—à_secret_key_–∑–¥–µ—Å—å
FLASK_ENV=production
```

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ EVE –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend —Å–µ—Ä–≤–µ—Ä
2. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —Å–Ω–æ–≤–∞

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ EVE –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://developers.eveonline.com/
2. –í–æ–π–¥–∏—Ç–µ –≤ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç
3. –ù–∞–π–¥–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "EVE Profit Master"
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Callback URL —Ç–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç: `https://eve-profitmaster.onrender.com/callback`
5. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ scopes –≤—ã–±—Ä–∞–Ω—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç
python test_eve_sso.py
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ backend:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ health endpoint
curl https://eve-profitmaster.onrender.com/health
```

## üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

–û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:

- `app.py` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã scopes –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω redirect URL
- `test_eve_sso.py` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã scopes –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `EVE_SSO_SETUP.md` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `EVE_SSO_UPDATE.md` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã scopes

## üöÄ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **–û–±–Ω–æ–≤–∏—Ç–µ EVE –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend** —Å–µ—Ä–≤–µ—Ä
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é** –Ω–∞ https://eve-profitmaster.onrender.com
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö** –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## ‚ùó –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

- Callback URL –¥–æ–ª–∂–µ–Ω —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Ç–µ–º, —á—Ç–æ —É–∫–∞–∑–∞–Ω–æ –≤ EVE –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- –í—Å–µ scopes –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã–±—Ä–∞–Ω—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö EVE –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- Backend –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! üéâ
